# Go运算符


## 运算符分类

运算符是一种特殊的符号，用以表示数据的**运算**、**赋值**和**比较**等。

- 算术运算符
- 赋值运算符
- 比较运算符/关系运算符
- 逻辑运算符
- 位运算符
- 其他运算符

## 算术运算符

### 介绍

算术运算符是对**数值类型的变量**进行运算的，比如：加减乘除。

| 运算符 |     运算     |                 示例                  |  结果   |
| :----: | :----------: | :-----------------------------------: | :-----: |
|   +    |     正好     |                  +3                   |    3    |
|   -    |     负号     |                  -4                   |   -4    |
|   +    |      加      |                 5 + 5                 |   10    |
|   -    |      减      |                 6 - 4                 |    2    |
|   *    |      乘      |                 3 * 4                 |   12    |
|   /    |      除      |                 5 / 5                 |    1    |
|   %    | 取模（取余） | 7 % 5<br />计算公式：a%b = a - a/b *b |    2    |
|   ++   |     自增     |              a := 2;a++               |   a=3   |
|   --   |     自减     |               a :=2;a--               |   a=1   |
|   +    |  字符串相加  |             "He" + "llo"              | "Hello" |

### 示例

```go
// 如果运算的数都是整数，那么除后，去掉小数部分，保留整数部分
fmt.Println(10 / 4) //2

var n1 float32 = 10 / 4
fmt.Println(n1) //2

// 如果希望保留小数部分，则需要有浮点数参与运算
var n2 float32 = 10.0 / 4
fmt.Println(n2) //2.5

// % 计算公式：a % b = a - a / b * b
fmt.Println("10%3=", 10%3)     //10%3= 1
fmt.Println("-10%3=", -10%3)   //-10%3= -1
fmt.Println("10%-3=", 10%-3)   //10%-3= 1
fmt.Println("-10%-3=", -10%-3) //-10%-3= -1

//++和--
var i int = 10
i++                  //等价于 i = i + 1
fmt.Println("i=", i) //i= 11
i--                  //等价于 i = i - 1
fmt.Println("i=", i) //i= 10
```

### 细节

1. 对于除号`/`，它的整数除和小数除是有区别的：整数之间做除法时，只保留整数部分而舍弃小数部分。例如`x:=19/5`，结果是3
2. 当对一个数取模时，可以等价`a%b=a-a/b*b`，这样可以看到取模的一个本质运算。
3. Go的自增自减只能当做一个独立语言使用，不能这样使用：`b := a++`或者`b := a--`
4. Go的`++`和`--`只能卸载变量的后面，不能写在前面，只有`a++,a--`，没有`++a,--a`



## 关系运算符（比较运算符）

### 介绍

1. 关系运算符的结果都是`bool`型，也就是说：要么是`true`，要么是`false`
2. 关系表达式经常用在`if`结构的条件中或`for`循环结构的条件中

| 运算符 |   运算   | 示例 | 结果  |
| :----: | :------: | :--: | :---: |
|   ==   |  相等于  | 4==3 | false |
|   !=   |  不等于  | 4!=3 | true  |
|   <    |   小于   | 4<3  | false |
|   >    |   大于   | 4>3  | true  |
|   <=   | 小于等于 | 4<=3 | false |
|   >=   | 大于等于 | 4>=3 | True  |

### 示例

```go
var (
    a int = 9
    b int = 8
)
fmt.Println("a>b=", a > b)   //a>b= true
fmt.Println("a>=b=", a >= b) //a>=b= true
fmt.Println("a<=b=", a <= b) //a<=b= false
fmt.Println("a<b=", a < b)   //a<b= false
fmt.Println("a==b=", a == b) //a==b= false
fmt.Println("a!=b=", a != b) //a!=b= true
```

### 细节

1. 关系运算符的结果都是`bool`型
2. 关系运算符组成的表达式，称为**关系表达式**
3. 比较运算符`==`不能误写成`=` :exclamation:

## 逻辑运算符

### 介绍

用于连接多个条件（一般来讲就是关系表达式），最终的结果也是一个` bool`值

| 运算符 | 描述                                                         | 示例(A:True,B:False) |
| ------ | ------------------------------------------------------------ | -------------------- |
| &&     | 逻辑**与**运算符。<br />如果两边的操作都是`True`，则为`True`，否则为`False` | `(A && B)`为`False`  |
| \|\|   | 逻辑**或**运算符。<br />如果两边的操作数有一个`True`，则为`True`，否则为`False` | `(A \|\| B)`为`True` |
| !      | 逻辑**非**运算符。<br />如果条件为`True`，则逻辑为`False`，否则为`True` | `!(A && B)`为`True`  |

### 示例

```go
fmt.Println(true && false)    //false
fmt.Println(false && true)    //false
fmt.Println(false || true)    //true
fmt.Println(true || false)    //true
fmt.Println(!(true && false)) //true
```

### 细节

1. `&&`也叫**短路与**；如果第一个条件为`false`，则第二个条件不会判断，最终结果为`false`

    ```go
    fmt.Println(false && true)    //false
    ```

    

2. `||`也叫**短路或**；如果第一个条件为`true`，则第二个条件不会判断，最终结果为`true`

    ```go
    fmt.Println(true || false)    //true
    ```
    
    

## 赋值运算符

### 介绍

赋值运算符就是将某个运算后的值，赋给指定的变量。

| 运算符 | 描述                                       | 示例      |
| ------ | ------------------------------------------ | --------- |
| =      | 简单的赋值运算符，将一个表达式的值赋给变量 | C = A + B |
| +=     | 相加后再赋值                               | C += A    |
| -=     | 相减后再赋值                               | C -= A    |
| *=     | 相乘后再赋值                               | C *= A    |
| /=     | 相除后再赋值                               | C /= A    |
| %=     | 求余(取模)后再赋值                         | C %= A    |

### 示例

```go
var a int = 20
var b int = 10
var c int
c = a + b
fmt.Println(c) //30 = 20 + 10
c += a
fmt.Println(c) //50 = 30 + 20
c -= a
fmt.Println(c) //30 = 50 - 20
c *= a
fmt.Println(c) // 600 = 30 * 20
c /= a
fmt.Println(c) //30 = 600 / 20
c %= a
fmt.Println(c) //10 = 30 % 20
```

### 细节

1. 运算顺序从右往左
2. 赋值运算符的左边，只能是变量，右边可以是变量、表达式、常量值
3. 复合赋值运算等价于下面的效果:`a += 3 `等价于 `a = a + 3`



## 位运算符

| 运算符 | 描述                                                         |
| ------ | ------------------------------------------------------------ |
| &      | 按位`与`运算符`&`是双目运算符。其功能是参与运算的两数各对应的二进位相与。<br />运算规则：同时为1，结果为1，否则为0 |
| \|     | 按位`或`运算符`\|`是双目运算符。其功能是参与运算的两数各对应的二进位相或。<br />运算规则：有一个为1，结果为1，否则为0 |
| ^      | 按位`异或`运算符`^`是双目运算符。其功能是参与运算的两数相对应的二进位相异或。<br />运算规则：当二进制位不同时，结果为1，否则为0 |
| <<     | `左移`运算符`<<`是双目运算符。其功能把`<<`左边的运算数的各二进制位全部左移若干位，高位丢弃，低位补0.<br />左移`n`位就是乘以2的`n`次方。 |
| >>     | `右移`运算符`>>`是双目运算符。其功能把`>>`左边的运算数的各二进制位全部右移若干位。<br />右移`n`位就是除以2的`n`次方。 |

```go
var num1 int = 25 //11001
var num2 int = 20 // 10100
//二进制位，同时为1，结果为1，否则为0
fmt.Println(num1 & num2) // 16 10000
//二进制位，有一个为1，结果为1，否则为0
fmt.Println(num1 | num2) // 29 11101
//二进制位，当二进制位不同时，结果为1，否则为0
fmt.Println(num1 ^ num2) // 13 01101
//各二进制位全部左移若干位，高位丢弃，低位补0
fmt.Println(num1 << 2) //100 1100100 25*2^2=100
//各二进制位全部右移若干位
fmt.Println(num1 >> 2) // 6 110 25/2^2=6
```



## 其他运算符

| 运算符 | 描述             | 示例                      |
| ------ | ---------------- | ------------------------- |
| &      | 返回变量存储地址 | `&a` 将给出变量的存储地址 |
| *      | 指针变量         | `*a` 是一个指针变量       |

```go
var name string = "Joker"
var prt *string = &name
fmt.Printf("name的内存地址：%v\n", &name) //name的内存地址：0xc00004a530
fmt.Println("prt=", prt)            //prt= 0xc00004a530
fmt.Printf("prt指针变量的值为：%v\n", *prt) //prt指针变量的值为：Joker
```

## 运算符优先级

|优先级|	分类|	运算符	|结合性|
| ------ | ----- | ---------- | ------------------------- |
|1|	逗号运算符|	,	|从左到右|
|2|	赋值运算符|	=、+=、-=、*=、/=、 %=、 >=、 <<=、&=、^=、\|=	|从右到左|
|3|	逻辑或|	\|\|	|从左到右|
|4|	逻辑与|	&&	|从左到右|
|5|	按位或|	\|	|从左到右|
|6|	按位异或|	^	|从左到右|
|7|	按位与|	&	|从左到右|
|8|	相等/不等|	==、!=	|从左到右|
|9|	关系运算符|	<、<=、>、>=	|从左到右|
|10|	位移运算符|	<<、>>	|从左到右|
|11|	加法/减法|	+、-	|从左到右|
|12|	乘法/除法/取余|	*（乘号）、/、%	|从左到右|
|13|	单目运算符|	!、*（指针）、& 、++、--、+（正号）、-（负号）	|从右到左|
|14|	后缀运算符|	( )、[ ]、->	|从左到右|

❣️注意：优先级值越大，表示优先级越高。
